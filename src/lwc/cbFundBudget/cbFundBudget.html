<template>

	<!-- SPINNER -->
	<c-cb-spinner show={showSpinner}></c-cb-spinner>
	<!-- SPINNER -->

	<lightning-card title="Committed Budget">

		<lightning-layout>
			<lightning-layout-item>
				<div class="slds-p-top_large">
					<lightning-button label="Generate Budget" onclick={generateBudgetLines}></lightning-button>
				</div>
			</lightning-layout-item>
			<lightning-layout-item>
				<lightning-combobox
						name="budgetYear"
						label="Budget Year"
						value={selectedBYId}
						placeholder="Select BY"
						options={budgetYearSO}
						onchange={handleFilter}
						required
				></lightning-combobox>
			</lightning-layout-item>
		</lightning-layout>

		<lightning-layout>
			<lightning-layout-item size="2">
				<lightning-input value={fundPlanLine.label} label="Label" disabled></lightning-input>
			</lightning-layout-item>
			<lightning-layout-item size="9">
				<lightning-layout horizontal-align="space">
					<template for:each={fundPlanLine.amounts} for:item="amount">

						<lightning-layout-item key={amount}>
							<lightning-input type='number' value={amount.cb5__Value__c} class="dec" formatter="currency"
											 onfocusout={saveAmount}
											 name={amount.Id}
											 label={amount.label}></lightning-input>
						</lightning-layout-item>

					</template>
				</lightning-layout>
			</lightning-layout-item>
			<lightning-layout-item size="1">
				<lightning-input type='number' label="Total" value={fundPlanLine.total} formatter="currency" class="dec"
								 disabled></lightning-input>
			</lightning-layout-item>

		</lightning-layout>

	</lightning-card>
</template>